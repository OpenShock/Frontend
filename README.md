# OpenShock Frontend

[![Documentation](https://img.shields.io/badge/docs-mkdocs-blue.svg)](https://openshock.org)
[![GitHub license](https://img.shields.io/github/license/openshock/frontend.svg)](https://raw.githubusercontent.com/openshock/frontend/master/LICENSE)
[![GitHub Releases](https://img.shields.io/github/release/openshock/frontend.svg)](https://github.com/openshock/frontend/releases)
[![GitHub Sponsors](https://img.shields.io/badge/GitHub-Sponsors-ff69b4)](https://github.com/sponsors/openshock)
[![Discord](https://img.shields.io/discord/1078124408775901204)](https://discord.gg/openshock)

<table>
  <tr>
    <td>master</td>
    <td><a href="https://github.com/OpenShock/Frontend/actions/workflows/ci-build.yml"><img src="https://github.com/OpenShock/Frontend/actions/workflows/ci-build.yml/badge.svg?branch=master" alt="Build Status" /></a></td>
    <td><a href="https://github.com/OpenShock/Frontend/actions/workflows/codeql.yml"><img src="https://github.com/OpenShock/Frontend/actions/workflows/codeql.yml/badge.svg?branch=master" alt="CodeQL Status" /></a></td>
  </tr>
  <tr>
    <td>develop</td>
    <td><a href="https://github.com/OpenShock/Frontend/actions/workflows/ci-build.yml"><img src="https://github.com/OpenShock/Frontend/actions/workflows/ci-build.yml/badge.svg?branch=develop" alt="Build Status" /></a></td>
    <td><a href="https://github.com/OpenShock/Frontend/actions/workflows/codeql.yml"><img src="https://github.com/OpenShock/Frontend/actions/workflows/codeql.yml/badge.svg?branch=develop" alt="CodeQL Status" /></a></td>
  </tr>
</table>

This is the frontend for the OpenShock project that interfaces with the OpenShock API.

## Technologies

![Typescript](https://img.shields.io/badge/TypeScript-007ACC?style=for-the-badge&logo=typescript&logoColor=white)
![Vite](https://img.shields.io/badge/Vite-646CFF?style=for-the-badge&logo=vite&logoColor=white)
![SvelteKit](https://img.shields.io/badge/SvelteKit-4A4A55?style=for-the-badge&logo=svelte&logoColor=FF3E00)
![shadcn-ui](https://img.shields.io/badge/shadcn/ui-000?style=for-the-badge&logo=shadcnui&logoColor=orange)
![Tailwind CSS](https://img.shields.io/badge/Tailwind_CSS-38B2AC?style=for-the-badge&logo=tailwind-css&logoColor=white)

## Available Commands

- `pnpm i` - Install dependencies
- `pnpm run dev` - Start the development server
- `pnpm run build` - Build the project
- `pnpm run preview` - Preview the built project
- `pnpx openapi-generator-cli generate` - Generate the API client

## Setup

To get started with development, you will need to have **Node.js** and **pnpm** installed.

We recommend using a version manager like [Volta](https://docs.volta.sh/guide/getting-started) to manage your Node.js versions.

### Install Node.js and pnpm

Install on Linux:

```bash
curl https://get.volta.sh | bash
```

Install on Windows:

```pwsh
winget install Volta.Volta
```

Then you can install the required **Node.js** and **pnpm** version by running a single command in the repository root directory:

```bash
volta install node
volta install pnpm
```

### Install dependencies and build project

With Node.js installed, you can run the following commands to get started:

```bash
pnpm i
pnpm run build
```

## Running locally

Running the frontend locally is as simple as this:

```bash
pnpm run dev
```

### Hosts redirect

If you do not have a hosts file config for your domain and try to run the project you will get the following example message:

```
Please ensure that local.openshock.app resolves to 127.0.0.1 in your hosts file

On macOS and Linux, you can do this by running the following command:
echo "127.0.0.1 local.openshock.app" | sudo tee -a /etc/hosts

On Windows, you can do this by running the following command in PowerShell as an administrator:
Add-Content -Path "C:\Windows\System32\drivers\etc\hosts" -Value "127.0.0.1 local.openshock.app"

Then restart your development server
```

This action is required because of cookie policy, once you have done this you should be set!

Try closing and re-opening your development environment or console to refresh its cached system config.

## ğŸ“‚ Project Structure

```
.changestes/   # Versioning and changelog automation
.github/       # GitHub workflows
e2e/           # End-to-end tests (Playwright)
patches/       # Manual patches to npm dependencies (used with patch-package)
static/        # Public assets served directly (e.g., images, icons)
src/           # Application source code
â”œâ”€â”€ lib/       # Shared modules and utilities
â”‚   â”œâ”€â”€ api/               # API clients
â”‚   â”‚   â””â”€â”€ internal/      # Autogenerated API client (DO NOT EDIT MANUALLY)
â”‚   â”œâ”€â”€ components/        # UI components
â”‚   â”‚   â”œâ”€â”€ metadata/      # Meta helpers for SEO and accessibility
â”‚   â”‚   â”œâ”€â”€ svg/           # Customizable SVG icons
â”‚   â”‚   â””â”€â”€ ui/            # Shadcn UI components (Do not add custom components here)
â”‚   â”œâ”€â”€ constants/         # Global constants
â”‚   â”œâ”€â”€ errorhandling/     # Error handling utilities
â”‚   â”œâ”€â”€ hooks/             # Svelte hooks
â”‚   â”œâ”€â”€ inputvalidation/   # Input validators for usage with input fields
â”‚   â”œâ”€â”€ signalr/           # SignalR real-time communication logic
â”‚   â”œâ”€â”€ stores/            # Svelte stores for global state management
â”‚   â”œâ”€â”€ typeguards/        # Type guard helpers for runtime type checking
â”‚   â”œâ”€â”€ types/             # Global TypeScript types
â”‚   â””â”€â”€ utils/             # General utilities
â”œâ”€â”€ params/                # SvelteKit route parameter matchers
â”œâ”€â”€ routes/                # Application routes (file-based routing)
â”‚   â”œâ”€â”€ (authenticated)/   # Protected routes (everything under this folder requires authentication)
â”‚   â”‚   â””â”€â”€ +layout.svelte # Authentication boundary and layout
â”‚   â”œâ”€â”€ +error.svelte      # Global error fallback
â”‚   â””â”€â”€ +layout.svelte     # Root layout and entrypoint
â”œâ”€â”€ app.css    # Global styles
â”œâ”€â”€ app.d.ts   # Global type declarations
â””â”€â”€ app.html   # HTML root template
â””â”€â”€ error.html # Fallback HTML error page (for critical errors)
```

## Configuration files

### ğŸ“¦ Node & pnpm

- `.npmrc` â€” npm configuration.
- `.nvmrc` â€” Node.js version manager file.
- `package.json`, `pnpm-lock.yaml` â€” Project dependencies and lockfile.

### âš™ï¸ Configuration & Tooling

- `.editorconfig` â€” Editor formatting consistency across IDEs.
- `.prettierrc`, `.prettierignore` â€” Code formatting rules (Prettier).
- `eslint.config.js` â€” Linting setup (ESLint).
- `tsconfig.json` â€” TypeScript compiler configuration.
- `vite.config.ts` â€” Vite bundler config.
- `svelte.config.js` â€” SvelteKit configuration.
- `components.json` â€” Component metadata for shadcn.
- `openapitools.json` â€” Codegen config from OpenAPI spec.
- `playwright.config.ts` â€” End-to-end testing configuration (Playwright).

### ğŸŒ Environment Variables

- `.env`, `.env.development`, `.env.production`, `.env.test` â€” Environment-specific config files (e.g., API keys, endpoints).

### ğŸ³ Containerization

- `Dockerfile` â€” Container definition for deployment or local dev.
- `.dockerignore` â€” Files to exclude from Docker build context.

## Support

You can support the openshock dev team here: [Sponsor OpenShock](https://github.com/sponsors/OpenShock)

For self hosting support consider supporting us via the link above.
